<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recommended Places Directory</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    h1 {
      color: #333;
      margin-bottom: 20px;
    }
    ul {
      list-style-type: none;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }
    li {
      padding: 10px 15px;
      background-color: #f5f5f5;
      border-radius: 5px;
      transition: all 0.2s ease;
    }
    li:hover {
      background-color: #e0e0e0;
      transform: translateY(-2px);
    }
    li a {
      text-decoration: none;
      color: #0066cc;
      display: block;
    }
    .search-container {
      margin-bottom: 20px;
    }
    input[type="text"] {
      padding: 8px;
      width: 60%;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
    }
    button {
      padding: 8px 15px;
      background-color: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background-color: #0055aa;
    }
  </style>
</head>
<body>
  <h1>Recommended Places Directory</h1>

  <p>
    Use /api/locations to get recommended locations.
  </p>

  <ul id="locations-list">
    <!-- List items will be populated by JavaScript -->
  </ul>

  <script>
    // Get recommended locations when page loads
    document.addEventListener('DOMContentLoaded', async () => {
      const locationsList = document.getElementById('locations-list');

      try {
        // Fetch locations from the API
        const response = await fetch('/recommended');
        const locations = await response.json();

        // Create list items for each location
        locations.forEach(location => {
          const li = document.createElement('li');
          const link = document.createElement('a');
          link.href = `/location?place=${encodeURIComponent(location)}`;
          link.textContent = location;
          li.appendChild(link);
          locationsList.appendChild(li);
        });
      } catch (error) {
        console.error('Error fetching locations:', error);
        // Fallback to hardcoded locations if the API call fails
        const locations = [
          "Kiruna, Sweden",
          "Umea, Sweden",
          "Stockholm, Sweden",
          "Malmo, Sweden",
          "Gothenburg, Sweden",
          "Ostersund, Sweden",
          "Visby, Sweden",
          "London, United Kingdom",
          "Paris, France",
          "Berlin, Germany",
          "Madrid, Spain",
          "Rome, Italy",
          "Amsterdam, Netherlands",
          "Copenhagen, Denmark",
          "Oslo, Norway",
          "Helsinki, Finland",
          "Warsaw, Poland",
          "Vienna, Austria",
          "New York, United States",
          "Los Angeles, United States",
          "Toronto, Canada",
          "Vancouver, Canada",
          "Mexico City, Mexico",
          "Tokyo, Japan",
          "Beijing, China",
          "Seoul, South Korea",
          "Bangkok, Thailand",
          "Mumbai, India",
          "Sydney, Australia",
          "Auckland, New Zealand",
          "SÃ£o Paulo, Brazil",
          "Buenos Aires, Argentina",
          "Cape Town, South Africa",
          "Cairo, Egypt"
        ];

        locations.forEach(location => {
          const li = document.createElement('li');
          const link = document.createElement('a');
          link.href = `/location?place=${encodeURIComponent(location)}`;
          link.textContent = location;
          li.appendChild(link);
          locationsList.appendChild(li);
        });
      }
    });

  </script>
</body>
</html>
